Claude Code Prompt: Documentation Update (v33 - Final)
Task: Update the living changelog and related documentation to reflect all changes made on December 15, 2025.

Update docs/99_LIVING_CHANGELOG.md
Add this entry at the top (after "## [Unreleased]" section), and update "Last Updated" to December 15, 2025:
markdown---

## [0.1.5] - Dashboard Polish & Bug Fixes (December 15, 2025)

### Added
- **4-Level Progress Visualization:** Chapter progress bars and HeroStats ring now show depth of knowledge
  - Mastered (#1e3a5f): stability >= 21 days, fsrs_state = 2
  - Familiar (#0369a1): stability 7-20 days, fsrs_state = 2
  - Learning (#38bdf8): stability < 7 days OR fsrs_state IN (1, 3)
  - Not Seen (#d6d3d1): no progress record
  - New `StackedProgressBar` component in ChapterCarousel
  - New `categorizeByLevel()` helper function in Dashboard
- **Animated Streak Pill:** Header streak indicator auto-expands on page load showing "X days", collapses after 3 seconds, click to toggle
- **Notion-Style Loading Screen:** New `LoadingScreen.jsx` component with animated opening book and floating Spanish words (luna, flor, rey, zorro), replacing basic emoji loading state
- **Netlify SPA Routing:** Added `public/_redirects` file to fix 404 errors on page refresh or direct URL access

### Fixed
- **Streak Calculation Bug:** `updateStreak()` was always setting streak to 1 - now properly counts consecutive days
- **Streak Display:** Both header pill and Activity heatmap now show correct streak count
- **Longest Streak Tracking:** Now updates `longest_streak`, `longest_streak_start`, `longest_streak_end` when current exceeds previous best
- **Forecast "Today" Count:** Now includes all overdue cards from previous days using `.lte('due_date', endISO)` instead of date range
- **"Learn New" Count Mismatch:** Dashboard's `getChaptersThroughCurrent()` now uses same 95% unlock threshold as session builder
- **HeroStats Frame:** Removed unnecessary white card frame around progress ring
- **Redundant "TODAY" Label:** Removed duplicate label above forecast bar

### Changed
- `fetchStreakData()` calculates streak from consecutive days instead of trusting stored values
- `fetchActivityData()` calculates streak from activity map
- `updateDailyStats()` no longer hardcodes `current_streak: 1` on insert
- `fetchForecastData()` uses `.lte()` for today, `.gte().lt()` range for future days
- `getChaptersThroughCurrent()` aligned with session builder's 95% unlock logic
- `DashboardHeader.jsx` rewritten with expand/collapse animation
- `HeroStats.jsx` displays 4-level breakdown (Mastered/Familiar/Learning/Not Seen)
- `ChapterCarousel.jsx` uses `StackedProgressBar` with 4-color segments

### Files Changed
- New: `src/components/flashcard/LoadingScreen.jsx`, `public/_redirects`
- Modified: `Dashboard.jsx`, `HeroStats.jsx`, `ChapterCarousel.jsx`, `DashboardHeader.jsx`, `ReviewForecast.jsx`, `Flashcards.jsx`, `useProgressTracking.js`

---

Also Review/Update These Docs (if relevant sections exist):

docs/04_LEARNING_ALGORITHM.md - Add "Progress Visualization Levels" section with the 4-tier system and FSRS criteria
docs/06_UI_DESIGN_SYSTEM.md - Add 4-level progress colors and animated streak pill documentation
docs/08_DEPLOYMENT.md - Add note about public/_redirects for Netlify SPA routing